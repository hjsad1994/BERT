================================================================================
PHÂN TÍCH 4 LỖI PRICE NEGATIVE (TEST SET)
================================================================================

Test set Price Negative: 14 samples total
Correct: 10 samples
Errors: 4 samples → Recall = 71.4%

TẤT CẢ 4 LỖI ĐỀU PREDICT THÀNH POSITIVE!

--------------------------------------------------------------------------------
ERROR 1 (Sample index 48):
True: Negative → Predicted: Positive

Text: "Phiên bản: Ram 4/64gb máy thật bất ngờ màu sắc rất ấn so với các máy nhàm 
máy khác loa thi không có gì đặc biệt hoi thật vầng và không ấp lền aroi 11 
được cầnbườn thì mất thời gian mời biết giá hơi đắt a"" chắc của hàng làm 
ăn phát đạt..."

PHÂN TÍCH:
- Review dài, nhiều aspect positive (màu sắc, loa)
- Mention "giá hơi đắt" ở cuối
- Model focus vào overall positive sentiment
- "hơi đắt" là implicit negative (không rõ ràng)

--------------------------------------------------------------------------------
ERROR 2 (Sample index 75):
True: Negative → Predicted: Positive

Text: "Đúng với mô tả: Samsung đóng gói nhanh shipper thì giao hàng chậm, đã kách 
hoạt bảo hành, máy đã cái đượt 7 ngày trước chủ không phải máy mới. Sử dụng 
một thời gian sử dụng thơ thấy máy mau tuột pin xài một thời gian chắc thay 
pin. Sử dụng chới game thì rất là mượt, hiệu năng tốt. Giá 3800 ngàn thì kh..."

PHÂN TÍCH:
- Review mixed: nhiều positive (game mượt, hiệu năng tốt)
- "Giá 3800 ngàn thì kh..." → bị cắt/truncated
- Model không catch được implicit negative
- Sentence cắt ngang → mất context

--------------------------------------------------------------------------------
ERROR 3 (Sample index 154):
True: Negative → Predicted: Positive

Text: "Máy như shit. Mắc dù giá thành rẻ nhưng không nên mua..."

PHÂN TÍCH:
- Review rất ngắn, negative rõ ràng
- "Mắc dù... nhưng..." = contradiction pattern
- "giá thành rẻ" mention price as positive
- "không nên mua" overall negative
- Model confused by mixed signal

--------------------------------------------------------------------------------
ERROR 4 (Sample index 267):
True: Negative → Predicted: Positive

Text: "Tính năng nổi bật: Ngon rẻ tốt nhưng mà không đáng..."

PHÂN TÍCH:
- "Ngon rẻ tốt" = positive keywords
- "nhưng mà không đáng" = negative conclusion
- Contradiction pattern
- "rẻ" mention = positive, but overall sentiment negative
- Model focus on keywords, miss negation

================================================================================
NGUYÊN NHÂN CHÍNH
================================================================================

1. MIXED SENTIMENT:
   Tất cả 4 errors đều có positive keywords kèm negative conclusion
   Model học pattern "mention rẻ/tốt = Positive"

2. IMPLICIT NEGATIVE:
   - "hơi đắt" không mạnh như "rất đắt"
   - "không đáng" là indirect negative
   - "mắc dù... nhưng..." = contradiction

3. CONTRADICTION PATTERNS:
   - "giá rẻ nhưng không nên mua"
   - "ngon rẻ tốt nhưng không đáng"
   Model focus on first part (positive)

4. TRUNCATED TEXT:
   - "Giá 3800 ngàn thì kh..." → bị cắt
   Missing context → model guess based on partial info

5. TRAINING DATA KHÔNG CÓ PATTERNS NÀY:
   Augmentation = duplication → không có diverse patterns
   Model chưa học được:
   - Contradiction patterns
   - Implicit negatives
   - Mixed sentiments

================================================================================
TẠI SAO OVERSAMPLING KHÔNG CẢI THIỆN?
================================================================================

Training data (balanced):
  Original Negative: 132 samples
  Augmented Negative: 2,016 samples (15.3x)
  → 1,884 samples được augment

NẾU AUGMENTATION = DUPLICATION:
  → 132 unique patterns × 15 copies = 2,016 samples
  → Model chỉ học 132 patterns
  → Không có diversity
  → Không improve generalization!

Test samples có patterns KHÁC training:
  → Model chưa học được các patterns này
  → Predict sai

VÍ DỤ:
  Training: "Điện thoại này giá rất cao" (negative rõ ràng)
  Test: "Máy ngon nhưng giá hơi đắt" (mixed sentiment)
  → Model chưa thấy pattern này → predict Positive

================================================================================
GIẢI PHÁP
================================================================================

1. BETTER AUGMENTATION (HIGHEST PRIORITY):
   Không dùng duplication, dùng:
   - Paraphrasing: "giá cao" → "giá mắc", "không rẻ"
   - Back-translation: Vi → En → Vi
   - Sentence reordering
   - Negation patterns: "không rẻ", "không đáng giá"

2. ADD HARD NEGATIVES:
   Tạo synthetic samples với contradiction patterns:
   - "[Positive aspects] nhưng giá [negative]"
   - "Mắc dù giá [positive] nhưng [negative]"
   - "Ngon rẻ tốt nhưng không đáng"

3. FOCAL LOSS TUNING:
   Tăng weight cho Negative class:
   focal_alpha: [0.05, 0.45, 0.50]  # Pos, Neg, Neu

4. ENSEMBLE:
   Train 5 models với seeds khác nhau
   → Reduce variance

================================================================================
KẾT LUẬN
================================================================================

14 Negative samples trong TEST SET là REALISTIC distribution.

Model khó học vì:
✗ Test samples có patterns phức tạp (mixed sentiment, contradiction)
✗ Augmentation = duplication → không có diversity
✗ Chỉ 14 samples → mỗi error impact lớn (-7% recall)

Để improve:
✓ Priority 1: Better augmentation (paraphrasing, back-translation)
✓ Priority 2: Add synthetic hard negatives
✓ Priority 3: Focal loss tuning

Expected improvement: 71.4% → 85-90% recall

Nếu không muốn làm augmentation phức tạp:
→ Chấp nhận 89.36% F1, focus vào so sánh với MTL trong paper
→ Explain rằng STL trades performance for interpretability
